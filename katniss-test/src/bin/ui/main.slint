import { VerticalBox , HorizontalBox} from "std-widgets.slint";
import { DebugBox } from "debug.slint";
import { HyperdriveConsole } from "hyperdrive_console.slint";
import { VerticalVolume } from "vertical_volume.slint";

export component MainWindow inherits Window {
    width: 1080px;
    height: 960px;
    callback power_clicked;

    in property <int> mode;
    in property <int> powered_time_secs;
    in property <int> temperature;

    background: black;

    HorizontalBox {
        VerticalBox {
            width: 540px;
            alignment: end;

            // HyperdriveConsole {
            //     power-clicked => {root.power-clicked()}
            //     powered-time-secs: powered-time-secs;
            //     mode: mode;
            // }
            HorizontalBox {
                VerticalVolume {
                    value: temperature;
                    ceiling: 100;
                    bar-height: 4px;
                    bar-spacing: 4px;
                    background: black;
                    bar-color: #eeeeee;
                    inert-bar-color: #666;
                    width: 50px;
                    height: 800px;
                }
            }
        }
        VerticalBox {
            width: 540px;
            Rectangle {
                background: #444;
                VerticalBox {
                    DebugBox {
                        powered-time-secs: powered-time-secs;
                        mode: mode;
                    }
                    Rectangle {
                        background: lightgrey;
                        callback power_clicked;
                
                        width: 96px;
                        height: 96px;
                        border-radius: self.width / 2; // make rectangle a circle
                
                        Text {
                            text: "Power";
                            color: black;
                        }
                        TouchArea {
                            clicked => {
                                root.power-clicked();
                            }
                        }
                    }
                }
            }
        }
    }
}

