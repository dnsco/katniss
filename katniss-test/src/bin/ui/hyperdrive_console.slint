import { VerticalBox , HorizontalBox} from "std-widgets.slint";

export component HyperdriveConsole inherits HorizontalBox {
    in property <int> mode;
    in property <int> powered_time_secs;

    // callback docs:
    // https://slint.dev/releases/1.1.1/docs/slint/src/reference/callbacks
    callback power_clicked;
    

    Rectangle {
        background: lightgrey;
        callback power_clicked;

        width: 96px;
        height: 96px;
        border-radius: self.width / 2; // make rectangle a circle

        Text {
            text: "Power";
            color: black;
        }
        TouchArea {
            clicked => {
                root.power-clicked();
            }
        }
    }
    Rectangle {
        animate background {
        duration: 500ms;
        }

        states [
                off when mode == 0: {
                    background: grey;
                }
                warming when mode == 1: {
                    background: yellow;
                }
                engaged when mode >= 2: {
                    background: green;
                }
            ]
            
        Text {
            text: mode;
            font-size: 24px;
            color: black;

            states [
                off when mode == 0: {
                    text: "Offline";
                }
                warming when mode == 1: {
                    text: "Warming";
                }
                engaged when mode >= 2: {
                    text: "Engaged";
                }
            ]
        }
    }
}